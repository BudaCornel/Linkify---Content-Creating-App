@model description.Models.DescriptionRequest

@{
    ViewData["Title"] = "Generate Description";
}

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

<div class="container my-5">
    <h2 class="text-center mb-4">Generate Instagram-Worthy Description</h2>

    <div class="row justify-content-center">
        <div class="col-lg-8">
            <form asp-action="Index" method="post">
                @Html.AntiForgeryToken()

                <div class="card mb-4">
                    <div class="card-header bg-primary text-white">
                        <h4 class="mb-0">Provide Your Website Link</h4>
                    </div>
                    <div class="card-body">
                        <div class="form-group mb-3">
                            @Html.LabelFor(m => m.WebsiteLink, new { @class = "form-label" })
                            @Html.TextBoxFor(m => m.WebsiteLink, new { @class = "form-control", placeholder = "https://example.com" })
                            <small class="form-text text-muted">Enter your website URL to auto-generate a description.</small>
                            @Html.ValidationMessageFor(m => m.WebsiteLink, "", new { @class = "text-danger mt-1" })
                        </div>
                    </div>
                </div>

                <div class="text-center my-3">
                    <strong>OR</strong>
                </div>

                <div class="card mb-4">
                    <div class="card-header bg-secondary text-white">
                        <h4 class="mb-0">Provide Business Details</h4>
                    </div>
                    <div class="card-body">
                        <div class="form-group mb-3">
                            @Html.LabelFor(m => m.Name, new { @class = "form-label" })
                            @Html.TextBoxFor(m => m.Name, new { @class = "form-control", placeholder = "Business Name" })
                            @Html.ValidationMessageFor(m => m.Name, "", new { @class = "text-danger mt-1" })
                        </div>

                        <div class="form-group mb-3">
                            @Html.LabelFor(m => m.City, new { @class = "form-label" })
                            @Html.TextBoxFor(m => m.City, new { @class = "form-control", placeholder = "City" })
                            @Html.ValidationMessageFor(m => m.City, "", new { @class = "text-danger mt-1" })
                        </div>

                        <div class="form-group mb-3">
                            @Html.LabelFor(m => m.DomainOfActivity, new { @class = "form-label" })
                            @Html.TextBoxFor(m => m.DomainOfActivity, new { @class = "form-control", placeholder = "Domain of Activity" })
                            @Html.ValidationMessageFor(m => m.DomainOfActivity, "", new { @class = "text-danger mt-1" })
                        </div>
                    </div>
                </div>

                <div class="d-grid gap-2">
                    <button type="submit" class="btn btn-success btn-lg">Generate Description</button>
                </div>
            </form>

            <div class="d-grid gap-2 mt-3">
                <button type="button" class="btn btn-secondary btn-lg" onclick="openNextPage()">Next</button>
            </div>

            @if (!string.IsNullOrEmpty(Model.GeneratedDescription))
            {
                <div class="alert alert-info mt-4" role="alert">
                    <h5 class="alert-heading">Generated Description:</h5>
                    <p>@Model.GeneratedDescription</p>
                </div>
            }
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<style>
    body {
        background-color: #f8f9fa;
    }

    h2 {
        font-size: 2rem;
    }

    .card-header h4 {
        font-size: 1.5rem;
    }

    .form-label {
        font-weight: 600;
    }

    .btn-success, .btn-secondary {
        padding: 0.75rem;
        font-size: 1rem;
    }

    .alert p {
        margin-bottom: 0;
    }
</style>

<script>
    function openNextPage() {
        const url = 'https://postify-image-ai.transilvacore.xyz/';
        window.open(url, '_blank');
    }
</script>
